(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2308,5903],{96434:()=>{},78569:()=>{},47045:()=>{},95786:()=>{},69677:(e,t,a)=>{Promise.resolve().then(a.bind(a,39130)),Promise.resolve().then(a.t.bind(a,88296,23)),Promise.resolve().then(a.bind(a,6889)),Promise.resolve().then(a.bind(a,21617)),Promise.resolve().then(a.bind(a,40524))},6889:(e,t,a)=>{"use strict";a.d(t,{default:()=>u});var s=a(13268),l=a(82663),r=a(89114),n=a(52776),i=a(88296),c=a.n(i),o=a(1656),d=a(74245);function u(){let{isUserSignedIn:e}=(0,n.A)(),[t,a]=(0,o.useState)(!1);return(0,s.jsx)("div",{className:"flex justify-center pt-4",children:e?(0,s.jsx)(l.A,{showUploadStatus:!1,isUploading:t,setIsUploading:a}):(0,s.jsxs)(c(),{href:r.k4,className:"button primary",children:[(0,s.jsx)("span",{children:"Admin Dashboard"}),(0,s.jsx)(d.Z0P,{size:10})]})})}},72661:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var s=a(13268),l=a(49484),r=a(89114),n=a(20050),i=a(2650),c=a(22841);function o(e){var t;let{camera:a,hideAppleIcon:o,type:d="icon-first",badged:u,contrast:h,prefetch:m,countOnHover:p}=e,x=(null===(t=a.make)||void 0===t?void 0:t.toLowerCase())==="apple",f=!o&&x;return(0,s.jsx)(c.A,{label:(0,i.wG)(a),href:(0,r.WR)(a),icon:f?(0,s.jsx)(l.uZz,{title:"Apple",className:"translate-x-[-0.5px]",size:15}):(0,s.jsx)(n.FD$,{size:12,className:"translate-x-[-1px]"}),type:f&&x?"icon-first":d,badged:u,contrast:h,prefetch:m,hoverEntity:p})}},2650:(e,t,a)=>{"use strict";a.d(t,{gG:()=>l,wG:()=>n,wy:()=>r});let s={make:"Camera",model:"Model"},l=(e,t)=>{let a=n(e.camera),s=n(t.camera);return a.localeCompare(s)},r=(e,t)=>(null==e?void 0:e.make)&&(null==e?void 0:e.model)?{make:e.make,model:e.model}:null!=t?t:s,n=function(e){let{make:t,model:a}=e,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"if-not-apple",l=arguments.length>2?arguments[2]:void 0,r=t.replace(/ Corporation/i,""),n=a.replace("".concat(r," "),"");return l&&n.includes("iPhone")&&n.length>9&&(n=n.replace(/iPhone\s*/i,"")),"never"===s||"if-not-apple"===s&&"Apple"===r?n:"".concat(r," ").concat(n)}},92373:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var s=a(13268),l=a(22453),r=a(45041);function n(e){let{progress:t,isLoading:a,className:n,children:i,...c}=e;return(0,s.jsxs)(l.A,{...c,isLoading:null!=a?a:(null!=t?t:1)<1,className:(0,r.$)("relative overflow-hidden justify-center",n),children:[(0,s.jsx)("div",{style:{transform:"scaleX(".concat(null!=t?t:0,")")},className:(0,r.$)("absolute top-0 left-0 w-full","transition-all duration-500 origin-left","bg-invert h-[2px]",void 0===t?"opacity-0":"opacity-100")}),i]})}},12065:(e,t,a)=>{"use strict";a.d(t,{A:()=>m});var s=a(13268),l=a(47445),r=a(1656),n=a(49534),i=a(55686),c=a(82383);let o=(0,c.createServerReference)("7f1e3e414d93adcc855e2f4e08d74e6c60f0382d9c",c.callServer,void 0,c.findSourceMapURL,"getPhotosCachedAction"),d=(0,c.createServerReference)("7f6d193928b68a4d8cdb58bb821e52d6453e9e002f",c.callServer,void 0,c.findSourceMapURL,"getPhotosAction");var u=a(45041),h=a(52776);function m(e){let{cacheKey:t,initialOffset:a,itemsPerPage:c,sortBy:m,tag:p,camera:x,simulation:f,wrapMoreButtonInGrid:g,useCachedPhotos:v=!0,includeHiddenPhotos:j,children:b}=e,{swrTimestamp:y,isUserSignedIn:w}=(0,h.A)(),N="".concat(y,"-").concat(t),A=(0,r.useCallback)((e,t)=>t&&0===t.length?null:[N,e],[N]),k=(0,r.useCallback)(e=>{let[t,s]=e;return(v?o:d)({offset:a+s*c,sortBy:m,limit:c,hidden:j?"include":"exclude",tag:p,camera:x,simulation:f})},[v,m,a,c,j,p,x,f]),{data:S,isLoading:P,isValidating:U,error:M,mutate:R,setSize:C}=(0,l.Ay)(A,k,{initialSize:2,revalidateFirstPage:!1,revalidateOnFocus:!!w,revalidateOnReconnect:!!w}),z=(0,r.useRef)(null),I=P||U,O=(0,r.useMemo)(()=>{var e;return S&&(null===(e=S[S.length-1])||void 0===e?void 0:e.length)<c},[S,c]),L=(0,r.useCallback)(()=>{O||I||C(e=>e+1)},[O,I,C]),$=(0,r.useMemo)(()=>{var e;return null===(e=null!=S?S:[])||void 0===e?void 0:e.flat()},[S]),E=(0,r.useCallback)((e,t)=>R(S,{revalidate:(a,s)=>{let[l,r]=s,n=(null!=S?S:[]).findIndex(t=>t.some(t=>t.id===e));return t?r>=n:r===n}}),[S,R]),F=()=>(0,s.jsx)("div",{ref:z,children:(0,s.jsx)("button",{onClick:()=>M?R():L(),disabled:P||U,className:(0,u.$)("w-full flex justify-center",I&&"subtle"),children:M?"Try Again":I?(0,s.jsx)(i.A,{size:20}):"Load More"})});return(0,s.jsxs)("div",{className:"space-y-4",children:[b({photos:$,onLastPhotoVisible:L,revalidatePhoto:E}),!O&&(g?(0,s.jsx)(n.A,{contentMain:F()}):F())]})}},71632:(e,t,a)=>{"use strict";a.d(t,{default:()=>h});var s=a(13268),l=a(49534),r=a(55452),n=a(60513),i=a(12065);function c(e){let{cacheKey:t,initialOffset:a,canStart:l,tag:c,camera:o,simulation:d,focal:u,animateOnFirstLoadOnly:h,canSelect:m}=e;return(0,s.jsx)(i.A,{cacheKey:t,initialOffset:a,itemsPerPage:n.RS,tag:c,camera:o,simulation:d,children:e=>{let{photos:t,onLastPhotoVisible:a}=e;return(0,s.jsx)(r.default,{photos:t,canStart:l,tag:c,camera:o,simulation:d,focal:u,onLastPhotoVisible:a,animateOnFirstLoadOnly:h,canSelect:m})}})}var o=a(45041),d=a(77404),u=a(1656);function h(e){let{cacheKey:t,photos:a,count:n,tag:i,camera:h,simulation:m,focal:p,animateOnFirstLoadOnly:x,header:f,sidebar:g,canSelect:v}=e,[j,b]=(0,u.useState)(!1),y=(0,u.useCallback)(()=>b(!0),[]),w=a.length;return(0,s.jsx)(l.A,{contentMain:(0,s.jsxs)("div",{className:(0,o.$)(f&&"space-y-8 mt-1.5"),children:[f&&(0,s.jsx)(d.default,{type:"bottom",items:[f],animateOnFirstLoadOnly:!0}),(0,s.jsxs)("div",{className:"space-y-0.5 sm:space-y-1",children:[(0,s.jsx)(r.default,{photos:a,tag:i,camera:h,simulation:m,focal:p,animateOnFirstLoadOnly:x,onAnimationComplete:y,canSelect:v}),n>w&&(0,s.jsx)(c,{cacheKey:t,initialOffset:w,canStart:j,tag:i,camera:h,simulation:m,focal:p,animateOnFirstLoadOnly:x,canSelect:v})]})]}),contentSide:g,sideHiddenOnMobile:!0})}},21617:(e,t,a)=>{"use strict";a.d(t,{default:()=>L});var s=a(13268),l=a(89114),r=a(2650),n=a(72661),i=a(45041),c=a(77404);function o(e){let{title:t,className:a,icon:l,items:r}=e;return(0,s.jsx)(c.default,{className:(0,i.$)(a,"space-y-1"),scaleOffset:.95,duration:.5,staggerDelay:.05,items:(t||l?[(0,s.jsxs)("div",{className:(0,i.$)("text-gray-900","dark:text-gray-100","flex items-center mb-1 gap-1","uppercase"),children:[l&&(0,s.jsx)("span",{className:"w-[1rem]",children:l}),t]},"header")]:[]).concat(r),classNameItem:"text-dim uppercase"})}var d=a(1656),u=a(99368),h=a(82663);let m=()=>{let[e,t]=(0,d.useState)(!1);return(0,s.jsx)(o,{title:"Upload",icon:(0,s.jsx)(u.A,{size:13,className:"text-icon translate-y-[-0.25px]"}),items:[(0,s.jsx)("div",{className:(0,i.$)("w-full",e&&"opacity-50"),children:(0,s.jsx)(h.A,{shouldResize:!0,isUploading:e,setIsUploading:t,isAdmin:!1,showUploadStatus:!0})},"upload")]})};var p=a(47535),x=a(74245),f=a(20050),g=a(60513),v=a(73905),j=a(67031),b=a(59288),y=a(47678),w=a(15623),N=a(52776),A=a(22841),k=a(49484);function S(e){let{type:t,badged:a,contrast:r,prefetch:n,countOnHover:i}=e;return(0,s.jsx)(A.A,{label:a?(0,s.jsxs)("span",{className:"inline-flex gap-1",children:[v.u_,(0,s.jsx)(k.rs7,{size:13,className:"translate-y-[-1.5px]"})]}):v.u_,href:(0,l.B5)(v.u_),icon:!a&&(0,s.jsx)(k.rs7,{size:16}),type:t,hoverEntity:i,badged:a,contrast:r,prefetch:n})}var P=a(8136),U=a(65084),M=a.n(U);let R=["b","strong","i","em","u","br"],C=e=>M()(e,{allowedTags:R}),z=e=>e.match(/(<br\s*\/?>){2}/i);function I(e){let{tags:t,cameras:a,simulations:l,photosCount:c,photosDateRange:u}=e,{start:h,end:A}=(0,g.qS)(void 0,u),{hiddenPhotosCount:k}=(0,N.A)(),U=(0,d.useMemo)(()=>(0,v.ag)(t,k),[t,k]);return(0,s.jsxs)(s.Fragment,{children:[P.kX&&(0,s.jsx)(o,{items:[(0,s.jsx)("p",{className:(0,i.$)("max-w-60 normal-case text-main",z(P.kX)&&"pb-2"),dangerouslySetInnerHTML:{__html:C(P.kX)}},"about")]}),(0,s.jsx)(m,{}),t.length>0&&(0,s.jsx)(o,{title:"Tags",icon:(0,s.jsx)(x.wJQ,{size:12,className:"text-icon"}),items:U.map(e=>{let{tag:t,count:a}=e;switch(t){case v.Gx:return(0,s.jsx)(w.A,{countOnHover:a,type:"icon-last",prefetch:!1,contrast:"low",badged:!0},v.Gx);case v.u_:return(0,s.jsx)(S,{countOnHover:a,type:"icon-last",prefetch:!1,contrast:"low",badged:!0},v.u_);default:return(0,s.jsx)(p.A,{tag:t,type:"text-only",countOnHover:a,prefetch:!1,contrast:"low",badged:!0},t)}})}),a.length>0&&(0,s.jsx)(o,{title:"Cameras",icon:(0,s.jsx)(f.FD$,{size:13,className:"text-icon translate-y-[-0.25px]"}),items:a.sort(r.gG).map(e=>{let{cameraKey:t,camera:a,count:l}=e;return(0,s.jsx)(n.A,{camera:a,type:"text-only",countOnHover:l,prefetch:!1,contrast:"low",hideAppleIcon:!0,badged:!0},t)})}),l.length>0&&(0,s.jsx)(o,{title:"Films",icon:(0,s.jsx)(b.A,{className:"translate-y-[0.5px]"}),items:l.sort(y.cr).map(e=>{let{simulation:t,count:a}=e;return(0,s.jsx)("div",{className:"translate-x-[-2px]",children:(0,s.jsx)(j.A,{simulation:t,countOnHover:a,type:"text-only",prefetch:!1})},t)})}),c>0&&h?(0,s.jsx)(o,{title:(0,g.du)(c,!1),items:h===A?[h]:["".concat(A," â€“"),h]}):(0,s.jsx)(o,{items:[(0,g.du)(c,!1)]})]})}var O=a(71632);function L(e){let{photos:t,photosCount:a,tags:r,cameras:n,simulations:i}=e,{setSelectedPhotoIds:c}=(0,N.A)();return(0,d.useEffect)(()=>()=>null==c?void 0:c(void 0),[c]),(0,s.jsx)(O.default,{cacheKey:"page-".concat(l.t3),photos:t,count:a,sidebar:(0,s.jsx)("div",{className:"sticky top-4 space-y-4 mt-[-4px]",children:(0,s.jsx)(I,{tags:r,cameras:n,simulations:i,photosCount:a})}),canSelect:!0})}},82663:(e,t,a)=>{"use strict";a.d(t,{A:()=>y});var s=a(13268),l=a(1656),r=a(89941),n=a(45725),i=a(89114);let c=e=>new Promise((t,a)=>{let s=new FileReader;s.onerror=()=>a("Error reading image");let l=new Image;l.onload=()=>t(l),l.onerror=()=>a("Error reading image"),s.onload=e=>{let t=e.currentTarget.result;l.src=t},s.readAsDataURL(e)});async function o(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"image/jpeg",s=await d(e);return new Blob([t.slice(0,2),s,t.slice(2)],{type:a})}let d=e=>new Promise((t,a)=>{let s=new FileReader;s.addEventListener("load",s=>{let l=new DataView(s.target.result),r=0;if(65496!==l.getUint16(r))return a("not a valid jpeg");for(r+=2;;){let a=l.getUint16(r);if(65498===a)break;let s=l.getUint16(r+2);if(65505===a&&0x45786966===l.getUint32(r+4))return t(e.slice(r,r+2+s));r+=2+s}return t(new Blob)}),s.readAsArrayBuffer(e)});var u=a(16308),h=a(45041),m=a(60513),p=a(38685),x=a(94806),f=a(92373);let g="file";function v(e){let{onStart:t,onBlobReady:a,shouldResize:r,maxSize:n=x.No,quality:i=.8,loading:d,showUploadStatus:v=!0,debug:j}=e,b=(0,l.useRef)(null),y=(0,l.useRef)(null),[w,N]=(0,l.useState)(),[A,k]=(0,l.useState)(0),[S,P]=(0,l.useState)(0),[U,M]=(0,l.useState)("");return(0,s.jsxs)("div",{className:"space-y-4 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 sm:gap-4",children:[(0,s.jsxs)("label",{htmlFor:g,className:(0,h.$)("shrink-0 select-none text-main",d&&"pointer-events-none cursor-not-allowed"),children:[(0,s.jsx)(f.A,{type:"button",isLoading:d,progress:A>1?(S+1)/A*.95:void 0,icon:(0,s.jsx)(p.YoE,{size:18,className:"translate-x-[-0.5px] translate-y-[0.5px]"}),"aria-disabled":d,onClick:()=>{var e;return null===(e=b.current)||void 0===e?void 0:e.click()},hideTextOnMobile:!1,primary:!0,children:d?A>1?"Uploading ".concat(S+1," of ").concat(A):"Uploading":"Upload Images"}),(0,s.jsx)("input",{ref:b,id:g,type:"file",className:"!hidden",accept:m.qg.join(","),disabled:d,multiple:!0,onChange:async e=>{null==t||t();let{files:s}=e.currentTarget;if(s&&s.length>0){k(s.length);for(let e=0;e<s.length;e++){var l,d;let t=s[e];P(e),M(t.name);let h={extension:null===(l=t.name.split(".").pop())||void 0===l?void 0:l.toLowerCase(),hasMultipleUploads:s.length>1,isLastBlob:e===s.length-1},m="png"===h.extension,p=y.current,x=null==p?void 0:p.getContext("2d",{colorSpace:"display-p3"});if((r||m)&&p&&x){let e=await c(t);N(e),x.save();let s=null!==(d=await u.Ay.orientation(t).catch(()=>1))&&void 0!==d?d:1;if(!m)switch(s){case 1:case 2:case 4:case 5:case 7:s=1;break;case 3:s=3;break;case 6:s=8;break;case 8:s=6}let l=e.width/e.height,r=Math.round(l>=1?n:n*l),f=Math.round(l>=1?n/l:n);switch(p.width=r,p.height=f,s){case 2:x.translate(r,0),x.scale(-1,1);break;case 3:x.translate(r,f),x.rotate(1*Math.PI);break;case 4:x.translate(0,f),x.scale(1,-1);break;case 5:p.width=f,p.height=r,x.rotate(.5*Math.PI),x.scale(1,-1);break;case 6:p.width=f,p.height=r,x.rotate(.5*Math.PI),x.translate(0,-f);break;case 7:p.width=f,p.height=r,x.rotate(1.5*Math.PI),x.translate(-r,f),x.scale(1,-1);break;case 8:p.width=f,p.height=r,x.translate(0,r),x.rotate(1.5*Math.PI)}x.drawImage(e,0,0,r,f),x.restore(),p.toBlob(async e=>{if(e){let s=await o(t,e).catch(()=>e);await (null==a?void 0:a({...h,blob:s}))}},"image/jpeg",i)}else await (null==a?void 0:a({...h,blob:t}))}}}})]}),v&&A>0&&(0,s.jsx)("div",{className:"max-w-full truncate text-ellipsis",children:U})]}),(0,s.jsx)("canvas",{ref:y,className:(0,h.$)("bg-gray-50 dark:bg-gray-900/50 rounded-md","border border-gray-200 dark:border-gray-800","w-[400px]",(!w||!j)&&"hidden")})]})}var j=a(36619),b=a(77527);function y(e){let{shouldResize:t,onLastUpload:a,isUploading:c,setIsUploading:o,showUploadStatus:d,isAdmin:u,debug:m}=e,[p,x]=(0,l.useState)(),[f,g]=(0,l.useState)(),y=(0,n.useRouter)(),w=e=>{j.oR.success((0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(b.A,{className:"h-5 w-5"}),(0,s.jsx)("span",{children:e?"Images uploaded successfully! We will check and approve them":"Image uploaded successfully! We will check and approve it"})]}),{duration:3e3,className:"bg-background text-foreground"})};return(0,s.jsxs)("div",{className:(0,h.$)("space-y-4",c&&"cursor-not-allowed"),children:[(0,s.jsx)("div",{className:"flex items-center gap-8",children:(0,s.jsx)("form",{className:"flex items-center min-w-0",children:(0,s.jsx)(v,{loading:c,shouldResize:t,onStart:()=>{o(!0),x("")},onBlobReady:async e=>{let{blob:t,extension:s,hasMultipleUploads:l,isLastBlob:n}=e;if(!m)return(0,r.D4)(t,s).then(async e=>{n&&(await (null==a?void 0:a()),u?l?y.push(i.nA):y.push((0,i.qJ)(e)):(o(!1),w(!!l)))}).catch(e=>{o(!1),x("Upload Error: ".concat(e.message)),j.oR.error("Failed to upload images",{description:e.message,duration:4e3})});g({href:URL.createObjectURL(t),fileName:"debug.".concat(s)}),o(!1),x("")},showUploadStatus:d,debug:m})})}),m&&f&&(0,s.jsx)("a",{className:"block",href:f.href,download:f.fileName,children:"Download"}),p&&(0,s.jsx)("div",{className:"text-error",children:p})]})}},67031:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var s=a(13268),l=a(96359),r=a(59288),n=a(89114),i=a(22841);function c(e){let{simulation:t,type:a="icon-last",badged:c=!0,contrast:o="low",prefetch:d,countOnHover:u}=e,{small:h,medium:m,large:p}=(0,l.rh)(t);return(0,s.jsx)(i.A,{label:m,labelSmall:h,href:(0,n.wx)(t),icon:(0,s.jsx)(r.A,{simulation:t}),title:"Film Simulation: ".concat(p),type:a,badged:c,contrast:o,prefetch:d,hoverEntity:u,iconWide:!0})}},47678:(e,t,a)=>{"use strict";a.d(t,{M$:()=>c,bn:()=>n,cr:()=>r,re:()=>i});var s=a(60513);a(89114);var l=a(96359);let r=(e,t)=>{let a=(0,l.rh)(e.simulation).large,s=(0,l.rh)(t.simulation).large;return a.localeCompare(s)},n=(e,t,a)=>[(0,l.rh)(e).large,(0,s.du)(null!=a?a:t.length)].join(" "),i=e=>"Photos shot on Fujifilm ".concat((0,l.rh)(e).large),c=(e,t,a,l)=>(0,s.wF)(e,void 0,t,a,l)},15623:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var s=a(13268),l=a(74245),r=a(73905),n=a(89114),i=a(45041),c=a(22841);function o(e){let{type:t,badged:a,contrast:o,prefetch:d,countOnHover:u}=e;return(0,s.jsx)(c.A,{label:a?(0,s.jsxs)("span",{className:"inline-flex gap-1",children:[r.Gx,(0,s.jsx)(l.gt3,{size:10,className:"text-amber-500"})]}):r.Gx,href:(0,n.B5)(r.Gx),icon:!a&&(0,s.jsx)(l.gt3,{size:12,className:(0,i.$)("text-amber-500","translate-x-[-1px] translate-y-[-0.5px]")}),type:t,hoverEntity:u,badged:a,contrast:o,prefetch:d})}},47535:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var s=a(13268),l=a(89114),r=a(74245),n=a(73905),i=a(22841);function c(e){let{tag:t,type:a,badged:c,contrast:o,prefetch:d,countOnHover:u}=e;return(0,s.jsx)(i.A,{label:(0,n._3)(t),href:(0,l.B5)(t),icon:(0,s.jsx)(r.wJQ,{size:11,className:"translate-y-[1px]"}),type:a,badged:c,contrast:o,prefetch:d,hoverEntity:u})}}},e=>{var t=t=>e(e.s=t);e.O(0,[3438,2101,7116,8222,669,1148,9742,9816,1131,8296,1351,1057,7825,6619,1605,9130,6111,1912,4504,8852,9114,6632,3183,524,6203,1391,7358],()=>t(69677)),_N_E=e.O()}]);