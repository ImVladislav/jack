"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2703],{2650:(e,t,a)=>{a.d(t,{gG:()=>l,wG:()=>s,wy:()=>n});let r={make:"Camera",model:"Model"},l=(e,t)=>{let a=s(e.camera),r=s(t.camera);return a.localeCompare(r)},n=(e,t)=>(null==e?void 0:e.make)&&(null==e?void 0:e.model)?{make:e.make,model:e.model}:null!=t?t:r,s=function(e){let{make:t,model:a}=e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"if-not-apple",l=arguments.length>2?arguments[2]:void 0,n=t.replace(/ Corporation/i,""),s=a.replace("".concat(n," "),"");return l&&s.includes("iPhone")&&s.length>9&&(s=s.replace(/iPhone\s*/i,"")),"never"===r||"if-not-apple"===r&&"Apple"===n?s:"".concat(n," ").concat(s)}},77404:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var r=a(13268),l=a(1656),n=a(2039),s=a(52776),i=a(84895);let o=function(e){var t,a,o,d;let{className:c,classNameItem:u,items:m,itemKeys:h,canStart:g=!0,type:p="scale",duration:f=.6,staggerDelay:v=.1,scaleOffset:x=.9,distanceOffset:b=20,animateFromAppState:j,animateOnFirstLoadOnly:y,staggerOnFirstLoadOnly:A,onAnimationComplete:S}=e,{hasLoaded:w,nextPhotoAnimation:N,clearNextPhotoAnimation:C}=(0,s.A)(),k=(0,i.A)(),E=(0,l.useRef)(w),R=(0,l.useRef)(N),M="none"!==p&&!k&&!(y&&E.current),P=!(A&&E.current),T=j&&null!==(o=null===(t=R.current)||void 0===t?void 0:t.type)&&void 0!==o?o:p,O=j&&null!==(d=null===(a=R.current)||void 0===a?void 0:a.duration)&&void 0!==d?d:f,L=()=>{switch(T){case"left":return{opacity:0,transform:"translateX(".concat(b,"px)")};case"right":return{opacity:0,transform:"translateX(".concat(-b,"px)")};case"bottom":return{opacity:0,transform:"translateY(".concat(b,"px)")};default:return{opacity:0,transform:"translateY(".concat(b,"px) scale(").concat(x,")")}}};return(0,r.jsx)(n.P.div,{className:c,initial:!!M&&"hidden",animate:"show",variants:P?{show:{transition:{staggerChildren:v}}}:void 0,onAnimationComplete:()=>{j&&(null==C||C()),null==S||S()},children:m.map((e,t)=>(0,r.jsx)(n.P.div,{className:u,variants:{hidden:L(),show:{opacity:1,transform:"translateX(0) translateY(0) scale(1)"}},transition:{duration:O,easing:"easeOut"},children:e},h?h[t]:t))})}},6851:(e,t,a)=>{a.d(t,{A:()=>g});var r=a(13268),l=a(1656),n=a(2039),s=a(45041);let i="mousedown",o=e=>{let{htmlElements:t,onClick:a,onClickInside:r,onClickOutside:n,shouldListenToClicks:s=!0}=e,o=(0,l.useCallback)(e=>{let l=e.target,s=t.some(e=>null==e?void 0:e.contains(l));null==a||a(e),s&&(null==r||r(e)),s||null==n||n(e)},[a,r,n,t]);(0,l.useEffect)(()=>{if(s)return document.addEventListener(i,o),()=>{document.removeEventListener(i,o)}},[t,s,o])};var d=a(45725),c=a(77404),u=a(89114),m=a(84895),h=a(74263);function g(e){let{onClosePath:t,onClose:a,className:i,anchor:g="center",children:p,fast:f}=e,v=(0,d.useRouter)(),x=(0,m.A)(),b=(0,l.useRef)(null),[j,y]=(0,l.useState)([]);return(0,l.useEffect)(()=>{b.current&&y([b.current])},[]),!function(e){let{colorLight:t,colorDark:a}=e,{resolvedTheme:r}=(0,h.D)(),n="light"===r?t:a;(0,l.useEffect)(()=>{if(n){var e;let t=document.createElement("meta");return t.name="theme-color",t.content=n,null===(e=document.getElementsByTagName("head")[0])||void 0===e||e.appendChild(t),()=>t.remove()}},[n])}({colorLight:"#333"}),o({htmlElements:j,onClickOutside:()=>{a?a():v.push(null!=t?t:u.fO,{scroll:!1})}}),(0,r.jsx)(n.P.div,{className:(0,s.$)("fixed inset-0 z-50 flex justify-center","top"===g?"items-start pt-4 sm:pt-24":"items-center","bg-black"),initial:!x&&{backgroundColor:"rgba(0, 0, 0, 0)"},animate:{backgroundColor:"rgba(0, 0, 0, 0.80)"},transition:{duration:.3,easing:"easeOut"},children:(0,r.jsx)(c.default,{duration:f?.1:.3,items:[(0,r.jsx)("div",{ref:b,className:(0,s.$)("w-[calc(100vw-1.5rem)] sm:w-[min(540px,90vw)]","p-3 rounded-lg","md:p-4 md:rounded-xl","bg-white dark:bg-black","dark:border dark:border-gray-800",i),children:p},"modalContent")]})})}},97602:(e,t,a)=>{a.r(t),a.d(t,{default:()=>g});var r=a(13268),l=a(1656),n=a(45041),s=a(88296),i=a.n(s),o=a(6505),d=a(55686),c=a(11190);let u=16/9,m=(0,c.N)(1080,u);(0,c.N)(828,u),(0,c.N)(2048,4/3);var h=a(90899);function g(e){let{title:t,description:a,path:s,pathImageAbsolute:c,loadingState:u,riseOnHover:g,onLoad:p,onFail:f,retryTime:v,onVisible:x}=e,b=(0,l.useRef)(null),[j,y]=(0,l.useState)(null!=u?u:"unloaded"),A=null!=u?u:j;(0,l.useEffect)(()=>{u||"unloaded"!==j||y("loading")},[u,j]);let{width:S,height:w,aspectRatio:N}=m;return(0,h.A)(b,x),(0,r.jsxs)(i(),{ref:b,href:s,className:(0,n.$)("group","block w-full rounded-md overflow-hidden","border shadow-sm","border-gray-200 dark:border-gray-800",g&&"hover:-translate-y-1.5 transition-transform"),children:[(0,r.jsxs)("div",{className:"relative",style:{aspectRatio:N},children:["loading"===A&&(0,r.jsx)("div",{className:(0,n.$)("absolute top-0 left-0 right-0 bottom-0 z-10","flex items-center justify-center"),children:(0,r.jsx)(d.A,{size:40})}),"failed"===A&&(0,r.jsx)("div",{className:(0,n.$)("absolute top-0 left-0 right-0 bottom-0 z-[11]","flex items-center justify-center","text-red-400"),children:(0,r.jsx)(o.U0v,{size:32})}),("loading"===A||"loaded"===A)&&(0,r.jsx)("img",{alt:t,className:(0,n.$)("absolute top-0 left-0 right-0 bottom-0 z-0","w-full","loading"===A&&"opacity-0","transition-opacity"),src:c,width:S,height:w,onLoad:()=>{p?p():y("loaded")},onError:()=>{f?f():y("failed"),void 0!==v&&setTimeout(()=>{y("loading")},v)}})]}),(0,r.jsxs)("div",{className:(0,n.$)("h-full flex flex-col gap-0.5 p-3","font-sans leading-tight","bg-gray-50 dark:bg-gray-900/50","group-active:bg-gray-50 group-active:dark:bg-gray-900/50","group-hover:bg-gray-100 group-hover:dark:bg-gray-900/70","border-t border-gray-200 dark:border-gray-800"),children:[(0,r.jsx)("div",{className:"text-gray-800 dark:text-white font-medium",children:t}),(0,r.jsx)("div",{className:"text-medium",children:a})]})]})}},43193:(e,t,a)=>{a.d(t,{A:()=>i});var r=a(13268),l=a(411),n=a(45041),s=a(1656);function i(e){let{date:t,className:a,titleLabel:i,timezone:o}=e,[d,c]=(0,s.useState)(o);(0,s.useEffect)(()=>{o||c(Intl.DateTimeFormat().resolvedOptions().timeZone)},[o]);let u=void 0===d,m=(0,l.Yq)(t,void 0,d).toLocaleUpperCase(),h=i?"".concat(i,": ").concat(m):m,g=u&&"opacity-0 select-none";return(0,r.jsxs)("span",{title:u?"LOADING LOCAL TIME":h,className:(0,n.$)("uppercase rounded-md transition-colors",u&&"bg-dim",a),children:[(0,r.jsx)("span",{className:(0,n.$)("xs:hidden",g),"aria-hidden":!0,children:(0,l.Yq)(t,"short",d,u)}),(0,r.jsx)("span",{className:(0,n.$)("hidden xs:inline-block sm:hidden",g),"aria-hidden":!0,children:(0,l.Yq)(t,"medium",d,u)}),(0,r.jsx)("span",{className:(0,n.$)("hidden sm:inline-block",g),children:(0,l.Yq)(t,void 0,d,u)})]})}},55686:(e,t,a)=>{a.d(t,{A:()=>n});var r=a(13268),l=a(45041);function n(e){let{size:t=12,color:a="light-gray",className:n}=e;return(0,r.jsx)("span",{className:(0,l.$)("inline-flex","light-gray"===a&&"text-gray-300 dark:text-gray-600","dim"===a&&"text-dim",n),style:{width:t,height:t},children:(0,r.jsx)("svg",{width:t,height:t,viewBox:"0 0 12 12",fill:"none",stroke:"currentColor",strokeWidth:12/t*2,xmlns:"http://www.w3.org/2000/svg",className:"animate-rotate-pulse",children:(0,r.jsx)("path",{d:"M11 6C11 3.23858 8.76142 1 6 1C3.23858 1 1 3.23858 1 6C1 8.76142 3.23858 11 6 11"})})})}},88727:(e,t,a)=>{a.d(t,{default:()=>L});var r=a(13268),l=a(86985),n=a(1656),s=a(89114),i=a(6851),o=a(45041),d=a(45503),c=a(55686),u=a(45725),m=a(74263),h=a(6505),g=a(47439),p=a(52776),f=a(82383);let v=(0,f.createServerReference)("7fd910248b2207c44218356833ff21e2ac82e7da78",f.callServer,void 0,f.findSourceMapURL,"searchPhotosAction");var x=a(30905),b=a(15743);let j=(0,f.createServerReference)("7f28a46e082d3c1e0d69ba7dee883bce14789e3ea8",f.callServer,void 0,f.findSourceMapURL,"signOutAndRedirectAction");var y=a(55320),A=a(60513),S=a(51217),w=a(90590),N=a(7057),C=a(73905),k=a(74245),E=a(54074);function R(e){let{label:t,value:a,keywords:n,onSelect:s,accessory:i,annotation:d,annotationAria:u,loading:m,disabled:h}=e;return(0,r.jsx)(l.uB.Item,{value:a,keywords:n,className:(0,o.$)("px-2",i?"py-2":"py-1","rounded-md cursor-pointer tracking-wide","active:!bg-gray-200/75 active:dark:!bg-gray-800/55",...m?["data-[selected=true]:dark:bg-gray-900/50","data-[selected=true]:bg-gray-100/50"]:["data-[selected=true]:dark:bg-gray-900/75","data-[selected=true]:bg-gray-100"],h&&"opacity-15"),onSelect:s,disabled:m||h,children:(0,r.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[i,(0,r.jsx)("span",{className:"grow text-ellipsis truncate",children:t}),d&&!m&&(0,r.jsx)("span",{className:"text-dim whitespace-nowrap","aria-label":u,children:(0,r.jsx)("span",{"aria-hidden":!!u,children:d})}),m&&(0,r.jsx)(c.A,{color:"dim"})]})})}var M=a(8136),P=a(42347),T=a(912);let O="keydown";function L(e){let{tags:t,serverSections:a=[],showDebugTools:f,footer:L}=e,$=(0,u.usePathname)(),{isUserSignedIn:z,setUserEmail:I,isCommandKOpen:B,hiddenPhotosCount:D,selectedPhotoIds:F,setSelectedPhotoIds:G,isGridHighDensity:Y,arePhotosMatted:U,shouldShowBaselineGrid:H,shouldDebugImageFallbacks:V,setIsCommandKOpen:X,setShouldRespondToKeyboardCommands:_,setShouldShowBaselineGrid:K,setIsGridHighDensity:q,setArePhotosMatted:J,setShouldDebugImageFallbacks:Q}=(0,p.A)(),W=(0,n.useRef)(B),[Z,ee]=(0,n.useTransition)(),[et,ea]=(0,n.useState)(),er=(0,n.useRef)(!1);(0,n.useEffect)(()=>{!Z&&(ea(void 0),er.current&&(null==X||X(!1),er.current=!1))},[Z,X]);let[el,en]=(0,n.useState)(""),[es]=(0,d.d7)(el,500,{trailing:!0}),ei=""===el,eo=(0,n.useMemo)(()=>el.trim().toLocaleLowerCase(),[el]),ed=(0,n.useMemo)(()=>es.trim().toLocaleLowerCase(),[es]),[ec,eu]=(0,n.useState)(!1),[em,eh]=(0,n.useState)([]),{setTheme:eg}=(0,m.D)(),ep=(0,u.useRouter)();(0,n.useEffect)(()=>{W.current=B},[B]),(0,n.useEffect)(()=>{let e=e=>{"k"===e.key&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),null==X||X(e=>!e))};return document.addEventListener(O,e),()=>document.removeEventListener(O,e)},[X]),(0,n.useEffect)(()=>{ed.length>=2&&!Z&&(eu(!0),v(ed).then(e=>{W.current?eh(e.length>0?[{heading:"Photos",accessory:(0,r.jsx)(y.J2d,{size:14}),items:e.map(e=>({label:(0,A.sn)(e),keywords:(0,A.mH)(e),annotation:(0,r.jsx)(S.A,{photo:e,timezone:void 0}),accessory:(0,r.jsx)(w.A,{photo:e}),path:(0,s.lb)({photo:e})}))}]:[]):eh([]),eu(!1)}).catch(e=>{console.error(e),eh([]),eu(!1)}))},[ed,Z]),(0,n.useEffect)(()=>{""===eo?(eh([]),eu(!1)):eo.length>=2&&eu(!0)},[eo]),(0,n.useEffect)(()=>{B?null==_||_(!1):B||(en(""),eh([]),eu(!1),setTimeout(()=>null==_?void 0:_(!0),500))},[B,_]);let ef=(0,n.useMemo)(()=>(0,C.ag)(t,D),[t,D]),ev={heading:"Tags",accessory:(0,r.jsx)(k.wJQ,{size:10,className:"translate-x-[1px] translate-y-[0.75px]"}),items:ef.map(e=>{let{tag:t,count:a}=e;return{label:(0,C._3)(t),annotation:(0,E.B4)(a),annotationAria:(0,E.l4)(a),path:(0,s.B5)(t)}})},ex=[{heading:"Theme",accessory:(0,r.jsx)(g.MCJ,{size:14,className:"translate-y-[0.5px] translate-x-[-1px]"}),items:[{label:"Use System",annotation:(0,r.jsx)(h.Yh,{}),action:()=>eg("system")},{label:"Light Mode",annotation:(0,r.jsx)(h.q9U,{size:16,className:"translate-x-[1.25px]"}),action:()=>eg("light")},{label:"Dark Mode",annotation:(0,r.jsx)(h.vVA,{className:"translate-x-[1px]"}),action:()=>eg("dark")}]}];z&&f&&ex.push({heading:"Debug Tools",accessory:(0,r.jsx)(x.MgH,{size:16,className:"translate-x-[-1px]"}),items:[{label:"Toggle Photo Matting",action:()=>null==J?void 0:J(e=>!e),annotation:U?(0,r.jsx)(N.CMH,{size:12}):void 0},{label:"Toggle High Density Grid",action:()=>null==q?void 0:q(e=>!e),annotation:Y?(0,r.jsx)(N.CMH,{size:12}):void 0},{label:"Toggle Image Fallbacks",action:()=>null==Q?void 0:Q(e=>!e),annotation:V?(0,r.jsx)(N.CMH,{size:12}):void 0},{label:"Toggle Baseline Grid",action:()=>null==K?void 0:K(e=>!e),annotation:H?(0,r.jsx)(N.CMH,{size:12}):void 0}]});let eb=[{label:"Home",path:s.fO}];M.ot?eb.push({label:"Feed",path:s.X_}):eb.push({label:"Grid",path:s.fm});let ej={heading:"Pages",accessory:(0,r.jsx)(b.gpD,{size:15,className:"translate-x-[-1px]"}),items:eb},ey={heading:"Admin",accessory:(0,r.jsx)(h.i4O,{size:15,className:"translate-x-[-1px]"}),items:z?[{label:"Manage Photos",annotation:(0,r.jsx)(h.E2M,{}),path:s.k4},{label:"Manage Uploads",annotation:(0,r.jsx)(h.E2M,{}),path:s.nA},{label:"Manage Tags",annotation:(0,r.jsx)(h.E2M,{}),path:s.YE},{label:"App Config",annotation:(0,r.jsx)(h.E2M,{}),path:s.vm},{label:void 0===F?"Select Multiple Photos":"Exit Select Multiple Photos",annotation:(0,r.jsx)(h.E2M,{}),path:void 0===F?s.fm:void 0,action:void 0===F?()=>null==G?void 0:G([]):()=>null==G?void 0:G(void 0)}].concat(f?[{label:"Baseline Overview",path:s.y8}]:[]).concat({label:"Sign Out",action:()=>{j().then(()=>null==I?void 0:I(void 0))}}):[{label:"Sign In",path:s.iy}]};return(0,r.jsx)(l.uB.Dialog,{open:B,onOpenChange:X,filter:(e,t,a)=>{let r=t.trim().toLocaleLowerCase();return e.toLocaleLowerCase().includes(r)||(null==a?void 0:a.includes(r))?1:0},loop:!0,children:(0,r.jsx)(i.A,{anchor:"top",onClose:()=>null==X?void 0:X(!1),fast:!0,children:(0,r.jsxs)("div",{className:"space-y-1.5",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)(T.b,{children:[(0,r.jsx)(P.L3,{children:"Global Command-K Menu"}),(0,r.jsx)(P.rr,{children:"For searching photos, views, and settings"})]}),(0,r.jsx)(l.uB.Input,{onChangeCapture:e=>en(e.currentTarget.value),className:(0,o.$)("w-full !min-w-0","focus:ring-0",ei||ec&&"!pr-8","!border-gray-200 dark:!border-gray-800","focus:border-gray-200 focus:dark:border-gray-800","placeholder:text-gray-400/80","placeholder:dark:text-gray-700",Z&&"opacity-20"),placeholder:"Search photos, views, settings ...",disabled:Z}),ec&&!Z&&(0,r.jsx)("span",{className:(0,o.$)("absolute top-2.5 right-0 w-8","flex items-center justify-center translate-y-[2px]"),children:(0,r.jsx)(c.A,{size:16})})]}),(0,r.jsxs)(l.uB.List,{className:(0,o.$)("relative overflow-y-auto","max-h-48 sm:max-h-72"),children:[(0,r.jsx)(l.uB.Empty,{className:"mt-1 pl-3 text-dim",children:ec?"Searching ...":"No results found"}),em.concat(ev).concat(a).concat(ej).concat(ey).concat(ex).filter(e=>{let{items:t}=e;return t.length>0}).map(e=>{let{heading:t,accessory:a,items:n}=e;return(0,r.jsx)(l.uB.Group,{heading:(0,r.jsxs)("div",{className:(0,o.$)("flex items-center","px-2",Z&&"opacity-20"),children:[a&&(0,r.jsx)("div",{className:"w-5",children:a}),t]}),className:(0,o.$)("uppercase","select-none","[&>*:first-child]:py-1","[&>*:first-child]:font-medium","[&>*:first-child]:text-dim","[&>*:first-child]:text-xs","[&>*:first-child]:tracking-wider"),children:n.map(e=>{let{label:a,keywords:l,accessory:n,annotation:s,annotationAria:i,path:o,action:d}=e,c="".concat(t," ").concat(a);return(0,r.jsx)(R,{label:a,value:c,keywords:l,onSelect:()=>{d&&(d(),o||null==X||X(!1)),o&&(o!==$?(ea(c),ee(()=>{er.current=!0,ep.push(o,{scroll:!0})})):null==X||X(!1))},accessory:n,annotation:s,annotationAria:i,loading:c===et,disabled:Z&&c!==et},c)})},t)}),L&&!eo&&(0,r.jsx)("div",{className:"text-center text-dim pt-3 sm:pt-4",children:L})]})]})})})}},77557:(e,t,a)=>{a.d(t,{A:()=>s});var r=a(13268),l=a(12751),n=a(64858);function s(e){let{aspectRatio:t,blurCompatibilityMode:a,...s}=e;return(0,r.jsx)(n.A,{...s,blurCompatibilityLevel:a?"high":"none",width:l.VA,height:Math.round(l.VA/t)})}},64858:(e,t,a)=>{a.d(t,{A:()=>d});var r=a(13268),l=a(8136),n=a(52776),s=a(45041),i=a(69376),o=a(1656);function d(e){let{className:t,priority:a,blurDataURL:d,blurCompatibilityLevel:c="low",imgClassName:u="object-cover h-full",...m}=e,{shouldDebugImageFallbacks:h}=(0,n.A)(),[g,p]=(0,o.useState)(!0),[f,v]=(0,o.useState)(!0),[x,b]=(0,o.useState)(!1),j=(0,o.useCallback)(()=>v(!1),[]),y=(0,o.useCallback)(()=>b(!0),[]),[A,S]=(0,o.useState)(!1),w=(0,o.useRef)(null);return(0,o.useEffect)(()=>{let e=setTimeout(()=>{var e,t;return p(null!==(t=null===(e=w.current)||void 0===e?void 0:e.complete)&&void 0!==t&&t)},100);return()=>clearTimeout(e)},[]),(0,o.useEffect)(()=>{if(!f&&!x){let e=setTimeout(()=>{S(!0)},1e3);return()=>clearTimeout(e)}},[f,x]),(0,r.jsxs)("div",{className:(0,s.$)(t,"flex relative"),children:[(!g&&!A||h)&&(0,r.jsx)("div",{className:(0,s.$)("@container","absolute inset-0","overflow-hidden","transition-opacity duration-300 ease-in",!(l._X&&d)&&"bg-main",f||h?"opacity-100":"opacity-0"),children:l._X&&d?(0,r.jsx)("img",{...m,src:d,className:(0,s.$)(u,(()=>{switch(c){case"high":return"blur-[4px] @xs:blue-md scale-[1.05]";case"low":return"blur-[2px] @xs:blue-md scale-[1.01]"}})())}):(0,r.jsx)("div",{className:(0,s.$)("w-full h-full","bg-gray-100/50 dark:bg-gray-900/50")})}),(0,r.jsx)(i.default,{...m,ref:w,priority:a,className:u,onLoad:j,onError:y})]})}},12751:(e,t,a)=>{a.d(t,{FQ:()=>l,TR:()=>n,VA:()=>r});let r=50,l=300,n=1e3},51217:(e,t,a)=>{a.d(t,{A:()=>s});var r=a(13268),l=a(43193),n=a(1656);function s(e){let{photo:t,className:a,dateType:s="takenAt",timezone:i}=e,o=(0,n.useMemo)(()=>{let e=new Date("takenAt"===s?t.takenAtNaive:"createdAt"===s?t.createdAt:t.updatedAt);return isNaN(e.getTime())?new Date:e},[s,t.takenAtNaive,t.createdAt,t.updatedAt]);return(0,r.jsx)(l.A,{date:o,className:a,titleLabel:(()=>{switch(s){case"takenAt":return"TAKEN";case"createdAt":return"CREATED";case"updatedAt":return"UPDATED"}})(),timezone:i})}},67852:(e,t,a)=>{a.d(t,{default:()=>o});var r=a(89114),l=a(52776),n=a(45725),s=a(1656);let i="keyup";function o(){let e=(0,n.useRouter)(),t=(0,n.usePathname)(),{shouldRespondToKeyboardCommands:a}=(0,l.A)(),o=(0,r.f8)(t);return(0,s.useEffect)(()=>{if(a){let t=t=>{"ESCAPE"===t.key.toUpperCase()&&o&&e.push(o,{scroll:!1})};return window.addEventListener(i,t),()=>window.removeEventListener(i,t)}},[a,e,o]),null}},74291:(e,t,a)=>{a.d(t,{A:()=>i});var r=a(13268),l=a(60513),n=a(89114),s=a(97602);function i(e){let{photo:t,loadingState:a,riseOnHover:i,onLoad:o,onFail:d,retryTime:c,onVisible:u}=e;return(0,r.jsx)(s.default,{title:(0,l.sn)(t),description:(0,l.uk)(t),path:(0,n.lb)({photo:t}),pathImageAbsolute:(0,n.xF)(t),loadingState:a,onLoad:o,onFail:d,riseOnHover:i,retryTime:c,onVisible:u})}},90590:(e,t,a)=>{a.d(t,{A:()=>h});var r=a(13268),l=a(60513),n=a(77557),s=a(88296),i=a.n(s),o=a(45041),d=a(89114),c=a(8136),u=a(1656),m=a(90899);function h(e){let{photo:t,tag:a,camera:s,simulation:h,focal:g,selected:p,className:f,prefetch:v=c.Sl,onVisible:x}=e,b=(0,u.useRef)(null);return(0,m.A)(b,x),(0,r.jsx)(i(),{ref:b,href:(0,d.lb)({photo:t,tag:a,camera:s,simulation:h,focal:g}),className:(0,o.$)(f,"active:brightness-75",p&&"brightness-50","min-w-[50px]","rounded-[3px] overflow-hidden","border-subtle"),prefetch:v,children:(0,r.jsx)(n.A,{src:t.url,aspectRatio:t.aspectRatio,blurDataURL:t.blurData,blurCompatibilityMode:(0,l.dB)(t),alt:(0,l.mr)(t)})})}},44056:(e,t,a)=>{a.d(t,{default:()=>$});var r=a(13268),l=a(74291),n=a(89114),s=a(6851),i=a(55320),o=a(45041),d=a(6505),c=a(10080),u=a(41420),m=a(40407),h=a(8136);let g=(e,t)=>{let a=new URL("https://x.com/intent/tweet");return a.searchParams.set("url",e),a.searchParams.set("text",t),a.toString()};var p=a(52776);function f(e){let{title:t,pathShare:a,socialText:l,children:n}=e,{setShareModalProps:f}=(0,p.A)(),v=(e,t,a)=>(0,r.jsx)("div",{className:(0,o.$)("py-3 px-3.5",a?"border-l":"border rounded-md","border-gray-200 bg-gray-50 active:bg-gray-100","dark:border-gray-800 dark:bg-gray-900/75 dark:hover:bg-gray-800/75 dark:active:bg-gray-900","cursor-pointer"),onClick:t,children:e});return(0,r.jsx)(s.A,{onClose:()=>null==f?void 0:f(void 0),children:(0,r.jsxs)("div",{className:"space-y-3 md:space-y-4 w-full",children:[t&&(0,r.jsxs)("div",{className:(0,o.$)("flex items-center gap-x-3","text-2xl leading-snug"),children:[(0,r.jsx)(i.Gi,{size:22,className:"hidden xs:block"}),(0,r.jsx)("div",{className:"flex-grow",children:t})]}),n,(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("div",{className:(0,o.$)("rounded-md","w-full overflow-hidden","flex items-center justify-stretch","border border-gray-200 dark:border-gray-800"),children:[(0,r.jsx)("div",{className:"truncate p-2 w-full",children:(0,c.XK)(a)}),v((0,r.jsx)(d.Xpf,{size:18}),()=>{navigator.clipboard.writeText(a),(0,u.t)("Link to photo copied")},!0)]}),h.aB&&v((0,r.jsx)(m.BSO,{size:18}),()=>window.open(g(a,l),"_blank"))]})]})})}function v(e){return(0,r.jsx)(f,{pathShare:(0,n.Yy)(e),socialText:"Check out this photo",children:(0,r.jsx)(l.A,{photo:e.photo})})}var x=a(97602),b=a(73905);function j(e){let{tag:t,photos:a,loadingState:l,riseOnHover:s,onLoad:i,onFail:o,retryTime:d,count:c,dateRange:u}=e;return(0,r.jsx)(x.default,{title:(0,b.sF)(t,a,c),description:(0,b.zr)(a,!0,c,u),path:(0,n.B5)(t),pathImageAbsolute:(0,n.Bn)(t),loadingState:l,onLoad:i,onFail:o,riseOnHover:s,retryTime:d})}function y(e){let{tag:t,photos:a,count:l,dateRange:s}=e;return(0,r.jsx)(f,{pathShare:(0,n.EI)(t),socialText:(0,b.cg)(t),children:(0,r.jsx)(j,{tag:t,photos:a,count:l,dateRange:s})})}var A=a(60513),S=a(2650);let w=(e,t,a)=>["Shot on",(0,S.wG)((0,S.wy)(t[0],e)),(0,A.du)(null!=a?a:t.length)].join(" "),N=(e,t)=>["Photos shot on",(0,S.wG)((0,S.wy)(t[0],e))].join(" "),C=(e,t,a,r)=>(0,A.wF)(e,void 0,t,a,r);function k(e){let{camera:t,photos:a,loadingState:l,riseOnHover:s,onLoad:i,onFail:o,retryTime:d,count:c,dateRange:u}=e;return(0,r.jsx)(x.default,{title:w(t,a,c),description:C(a,!0,c,u),path:(0,n.WR)(t),pathImageAbsolute:(0,n.u7)(t),loadingState:l,onLoad:i,onFail:o,riseOnHover:s,retryTime:d})}function E(e){let{camera:t,photos:a,count:l,dateRange:s}=e;return(0,r.jsx)(f,{pathShare:(0,n.rX)(t),socialText:N(t,a),children:(0,r.jsx)(k,{camera:t,photos:a,count:l,dateRange:s})})}var R=a(47678);function M(e){let{simulation:t,photos:a,loadingState:l,riseOnHover:s,onLoad:i,onFail:o,retryTime:d,count:c,dateRange:u}=e;return(0,r.jsx)(x.default,{title:(0,R.bn)(t,a,c),description:(0,R.M$)(a,!0,c,u),path:(0,n.wx)(t),pathImageAbsolute:(0,n.WA)(t),loadingState:l,onLoad:i,onFail:o,riseOnHover:s,retryTime:d})}function P(e){let{simulation:t,photos:a,count:l,dateRange:s}=e;return(0,r.jsx)(f,{pathShare:(0,n.xH)(t),socialText:(0,R.re)(t),children:(0,r.jsx)(M,{simulation:t,photos:a,count:l,dateRange:s})})}var T=a(73860);function O(e){let{focal:t,photos:a,loadingState:l,riseOnHover:s,onLoad:i,onFail:o,retryTime:d,count:c,dateRange:u}=e;return(0,r.jsx)(x.default,{title:(0,T.Dp)(t,a,c),description:(0,T.mA)(a,!0,c,u),path:(0,n.in)(t),pathImageAbsolute:(0,n.wX)(t),loadingState:l,onLoad:i,onFail:o,riseOnHover:s,retryTime:d})}function L(e){let{focal:t,photos:a,count:l,dateRange:s}=e;return(0,r.jsx)(f,{pathShare:(0,n.zU)(t),socialText:(0,T.E9)(t),children:(0,r.jsx)(O,{focal:t,photos:a,count:l,dateRange:s})})}function $(){let{shareModalProps:e={}}=(0,p.A)(),{photo:t,photos:a,count:l,dateRange:n,tag:s,camera:i,simulation:o,focal:d}=e;if(t)return(0,r.jsx)(v,{photo:t,tag:s,camera:i,simulation:o,focal:d});if(a){let e={photos:a,count:l,dateRange:n};if(s)return(0,r.jsx)(y,{tag:s,...e});if(i)return(0,r.jsx)(E,{camera:i,...e});if(o)return(0,r.jsx)(P,{simulation:o,...e});if(void 0!==d)return(0,r.jsx)(L,{focal:d,...e})}}},47678:(e,t,a)=>{a.d(t,{M$:()=>o,bn:()=>s,cr:()=>n,re:()=>i});var r=a(60513);a(89114);var l=a(96359);let n=(e,t)=>{let a=(0,l.rh)(e.simulation).large,r=(0,l.rh)(t.simulation).large;return a.localeCompare(r)},s=(e,t,a)=>[(0,l.rh)(e).large,(0,r.du)(null!=a?a:t.length)].join(" "),i=e=>"Photos shot on Fujifilm ".concat((0,l.rh)(e).large),o=(e,t,a,l)=>(0,r.wF)(e,void 0,t,a,l)},52776:(e,t,a)=>{a.d(t,{A:()=>n,c:()=>l});var r=a(1656);let l=(0,r.createContext)({}),n=()=>(0,r.useContext)(l)},9014:(e,t,a)=>{a.d(t,{default:()=>p});var r=a(13268),l=a(1656),n=a(52776),s=a(45725);let i=()=>{let e=(0,s.usePathname)(),t=(0,l.useRef)(""),a=(0,l.useRef)("");return(0,l.useEffect)(()=>{a.current=t.current,t.current=e},[e]),{currentPathname:t.current,previousPathname:a.current}};var o=a(46609),d=a(97923),c=a(8136),u=a(82383);let m=(0,u.createServerReference)("7f43f58466cb4bb54f2db67606bc754f0b42545c13",u.callServer,void 0,u.findSourceMapURL,"getPhotosHiddenMetaCachedAction"),h=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0x3c3b880;document.cookie="".concat(e,"=").concat(t,";Path=").concat(a,";Max-Age=").concat(r)},g=()=>h("timezone-client",Intl.DateTimeFormat().resolvedOptions().timeZone);function p(e){let{children:t}=e,{previousPathname:a}=i(),[s,u]=(0,l.useState)(!1),[h,p]=(0,l.useState)(Date.now()),[f,v]=(0,l.useState)(),[x,b]=(0,l.useState)(!0),[j,y]=(0,l.useState)(!1),[A,S]=(0,l.useState)(),[w,N]=(0,l.useState)(),[C,k]=(0,l.useState)([]),[E,R]=(0,l.useState)(0),[M,P]=(0,l.useState)(),[T,O]=(0,l.useState)(!1),[L,$]=(0,l.useState)(c.dn),[z,I]=(0,l.useState)(c.q3),[B,D]=(0,l.useState)(!1),[F,G]=(0,l.useState)(!1),Y=(0,l.useCallback)(()=>p(Date.now()),[]),{data:U}=(0,d.Ay)("getAuth",o.B);(0,l.useEffect)(()=>{var e,t;N(null!==(t=null==U?void 0:null===(e=U.user)||void 0===e?void 0:e.email)&&void 0!==t?t:void 0)},[U]);let H=!!w;(0,l.useEffect)(()=>{if(H){let e=setTimeout(()=>m().then(e=>{let{count:t}=e;return R(t)}),100);return()=>clearTimeout(e)}R(0)},[H]);let V=(0,l.useCallback)(()=>k(e=>[...e,new Date]),[]);return(0,l.useEffect)(()=>{null==u||u(!0),g()},[]),(0,r.jsx)(n.c.Provider,{value:{previousPathname:a,hasLoaded:s,setHasLoaded:u,swrTimestamp:h,invalidateSwr:Y,nextPhotoAnimation:f,setNextPhotoAnimation:v,clearNextPhotoAnimation:()=>null==v?void 0:v(void 0),shouldRespondToKeyboardCommands:x,setShouldRespondToKeyboardCommands:b,isCommandKOpen:j,setIsCommandKOpen:y,shareModalProps:A,setShareModalProps:S,userEmail:w,setUserEmail:N,isUserSignedIn:H,adminUpdateTimes:C,registerAdminUpdate:V,hiddenPhotosCount:E,selectedPhotoIds:M,setSelectedPhotoIds:P,isPerformingSelectEdit:T,setIsPerformingSelectEdit:O,isGridHighDensity:L,setIsGridHighDensity:$,arePhotosMatted:z,setArePhotosMatted:I,shouldDebugImageFallbacks:B,setShouldDebugImageFallbacks:D,shouldShowBaselineGrid:F,setShouldShowBaselineGrid:G},children:t})}},47241:(e,t,a)=>{a.d(t,{default:()=>n});var r=a(13268),l=a(97923);function n(e){let{children:t}=e;return(0,r.jsx)(l.BE,{children:t})}},9562:(e,t,a)=>{a.d(t,{default:()=>i});var r=a(13268),l=a(45041),n=a(74263),s=a(36619);function i(){let{theme:e}=(0,n.D)();return(0,r.jsx)(s.l$,{theme:e,toastOptions:{unstyled:!0,classNames:{toast:(0,l.$)("flex items-center gap-x-1.5 p-4 w-full","font-mono text-sm","bg-white dark:bg-black","text-gray-900 dark:text-gray-100","border border-gray-200 dark:border-gray-800","rounded-lg")}}})}},41420:(e,t,a)=>{a.d(t,{_:()=>o,t:()=>i});var r=a(13268),l=a(40407),n=a(38685),s=a(36619);let i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4e3;return(0,s.oR)(e,{icon:(0,r.jsx)(n.NLe,{size:16}),duration:t})},o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4e3;return(0,s.oR)(e,{icon:(0,r.jsx)(l.LX_,{size:16}),duration:t})}},11190:(e,t,a)=>{a.d(t,{N:()=>r});let r=(e,t)=>{let a="string"==typeof t?parseFloat(t):t||1.5,r=e,l=e;return a>1?l=e/a:a<1&&(r=e*a),{width:Math.round(r),height:Math.round(l),aspectRatio:a}}},90899:(e,t,a)=>{a.d(t,{A:()=>l});var r=a(1656);function l(e,t){(0,r.useEffect)(()=>{if(t&&e.current){let a=new IntersectionObserver(e=>{e[0].isIntersecting&&t()},{root:null,threshold:0});return a.observe(e.current),()=>a.disconnect()}},[e,t])}},84895:(e,t,a)=>{a.d(t,{A:()=>s});var r=a(1656);let l="change",n=()=>window.matchMedia("(prefers-reduced-motion: reduce)"),s=()=>{var e,t;let[a,s]=(0,r.useState)(null!==(t=null===(e=n())||void 0===e?void 0:e.matches)&&void 0!==t&&t);return(0,r.useEffect)(()=>{let e=n(),t=()=>{var t;s(null!==(t=null==e?void 0:e.matches)&&void 0!==t&&t)};return null==e||e.addEventListener(l,t),()=>null==e?void 0:e.removeEventListener(l,t)},[]),a}},96359:(e,t,a)=>{a.d(t,{Qf:()=>n,Y2:()=>r,rh:()=>s});let r="FUJIFILM",l={monochrome:{small:"Monochrome",medium:"Monochrome",large:"Monochrome"},"monochrome-ye":{small:"Monochrome+Ye",medium:"Monochrome+Ye",large:"Monochrome + Yellow Filter"},"monochrome-r":{small:"Monochrome+R",medium:"Monochrome+R",large:"Monochrome + Red Filter"},"monochrome-g":{small:"Monochrome+G",medium:"Monochrome+G",large:"Monochrome + Green Filter"},sepia:{small:"Sepia",medium:"Sepia",large:"Sepia"},acros:{small:"ACROS",medium:"ACROS",large:"ACROS"},"acros-ye":{small:"ACROS+Ye",medium:"ACROS+Ye",large:"ACROS + Yellow Filter"},"acros-r":{small:"ACROS+R",medium:"ACROS+R",large:"ACROS + Red Filter"},"acros-g":{small:"ACROS+G",medium:"ACROS+G",large:"ACROS + Green Filter"},provia:{small:"PROVIA",medium:"PROVIA/Std",large:"PROVIA / Standard"},portrait:{small:"Portrait",medium:"Portrait",large:"Studio Portrait"},"portrait-saturation":{small:"Portrait+Sat.",medium:"Portrait+Sat.",large:"Studio Portrait + Enhanced Saturation"},astia:{small:"ASTIA",medium:"ASTIA/Soft",large:"ASTIA / Soft"},"portrait-sharpness":{small:"Portrait+Sharp.",medium:"Portrait+Sharp.",large:"Studio Portrait + Enhanced Sharpness"},"portrait-ex":{small:"Portrait+Ex",medium:"Portrait+Ex",large:"Studio Portrait + Ex"},velvia:{small:"Velvia",medium:"Velvia/Vivid",large:"Velvia / Vivid"},"pro-neg-std":{small:"PRO Neg. Std",medium:"PRO Neg. Std",large:"PRO Neg. Std"},"pro-neg-hi":{small:"PRO Neg. Hi",medium:"PRO Neg. Hi",large:"PRO Neg. Hi"},"classic-chrome":{small:"Classic Chrome",medium:"Classic Chrome",large:"Classic Chrome"},eterna:{small:"ETERNA",medium:"ETERNA/Cinema",large:"ETERNA / Cinema"},"classic-neg":{small:"Classic Neg.",medium:"Classic Neg.",large:"Classic Neg."},"eterna-bleach-bypass":{small:"ETERNA Bypass",medium:"ETERNA Bypass",large:"ETERNA Bleach Bypass"},"nostalgic-neg":{small:"Nostalgic Neg.",medium:"Nostalgic Neg.",large:"Nostalgic Neg."},reala:{small:"REALA",medium:"REALA ACE",large:"REALA ACE"}},n=Object.entries(l).map(e=>{let[t,a]=e;return{value:t,label:a.large}}).sort((e,t)=>e.label.localeCompare(t.label)),s=e=>l[e]},46609:(e,t,a)=>{a.d(t,{B:()=>l});var r=a(82383);let l=(0,r.createServerReference)("7fbfa7d4cf94547aa3e202fae1f3f01d66d9e62369",r.callServer,void 0,r.findSourceMapURL,"getAuthAction")}}]);