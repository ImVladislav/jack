(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2272],{44881:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,88296,23)),Promise.resolve().then(s.bind(s,71632)),Promise.resolve().then(s.bind(s,83442))},69376:(e,t,s)=>{"use strict";s.d(t,{default:()=>a.a});var l=s(3687),a=s.n(l)},45725:(e,t,s)=>{"use strict";var l=s(8969);s.o(l,"redirect")&&s.d(t,{redirect:function(){return l.redirect}}),s.o(l,"usePathname")&&s.d(t,{usePathname:function(){return l.usePathname}}),s.o(l,"useRouter")&&s.d(t,{useRouter:function(){return l.useRouter}}),s.o(l,"useSearchParams")&&s.d(t,{useSearchParams:function(){return l.useSearchParams}})},3687:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var s in t)Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}(t,{default:function(){return c},getImageProps:function(){return i}});let l=s(74426),a=s(36761),n=s(7825),r=l._(s(99691));function i(e){let{props:t}=(0,a.getImgProps)(e,{defaultLoader:r.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[200],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,s]of Object.entries(t))void 0===s&&delete t[e];return{props:t}}let c=n.Image},72672:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var l=s(13268),a=s(52776),n=s(45041);function r(e){let{children:t,className:s}=e,{shouldShowBaselineGrid:r}=(0,a.A)();return(0,l.jsx)("div",{className:(0,n.$)(s,r&&"bg-baseline-grid"),children:t})}},49534:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var l=s(13268),a=s(45041);function n(e){let{containerRef:t,className:s,contentMain:n,contentSide:r,sideFirstOnMobile:i,sideHiddenOnMobile:c}=e;return(0,l.jsxs)("div",{ref:t,className:(0,a.$)("grid","grid-cols-1 md:grid-cols-12","gap-x-4 lg:gap-x-6","gap-y-4","max-w-[1280px]","3xl:translate-x-[163px]",s),children:[(0,l.jsx)("div",{className:(0,a.$)("col-span-1 md:col-span-9",i&&"order-2 md:order-none"),children:n}),r&&(0,l.jsx)("div",{className:(0,a.$)("col-span-1 md:col-span-3",i&&"order-1 md:order-none",c&&"hidden md:block"),children:r})]})}},27663:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});var l=s(13268);function a(e){let{children:t,shortText:s}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:"hidden sm:inline",children:t}),(0,l.jsx)("span",{className:"sm:hidden","aria-hidden":!0,children:null!=s?s:t})]})}},12065:(e,t,s)=>{"use strict";s.d(t,{A:()=>p});var l=s(13268),a=s(47445),n=s(1656),r=s(49534),i=s(55686),c=s(82383);let o=(0,c.createServerReference)("7f1e3e414d93adcc855e2f4e08d74e6c60f0382d9c",c.callServer,void 0,c.findSourceMapURL,"getPhotosCachedAction"),d=(0,c.createServerReference)("7f6d193928b68a4d8cdb58bb821e52d6453e9e002f",c.callServer,void 0,c.findSourceMapURL,"getPhotosAction");var u=s(45041),m=s(52776);function p(e){let{cacheKey:t,initialOffset:s,itemsPerPage:c,sortBy:p,tag:f,camera:h,simulation:x,wrapMoreButtonInGrid:g,useCachedPhotos:v=!0,includeHiddenPhotos:j,children:y}=e,{swrTimestamp:b,isUserSignedIn:A}=(0,m.A)(),N="".concat(b,"-").concat(t),k=(0,n.useCallback)((e,t)=>t&&0===t.length?null:[N,e],[N]),P=(0,n.useCallback)(e=>{let[t,l]=e;return(v?o:d)({offset:s+l*c,sortBy:p,limit:c,hidden:j?"include":"exclude",tag:f,camera:h,simulation:x})},[v,p,s,c,j,f,h,x]),{data:S,isLoading:w,isValidating:R,error:_,mutate:O,setSize:C}=(0,a.Ay)(k,P,{initialSize:2,revalidateFirstPage:!1,revalidateOnFocus:!!A,revalidateOnReconnect:!!A}),$=(0,n.useRef)(null),z=w||R,L=(0,n.useMemo)(()=>{var e;return S&&(null===(e=S[S.length-1])||void 0===e?void 0:e.length)<c},[S,c]),E=(0,n.useCallback)(()=>{L||z||C(e=>e+1)},[L,z,C]),F=(0,n.useMemo)(()=>{var e;return null===(e=null!=S?S:[])||void 0===e?void 0:e.flat()},[S]),M=(0,n.useCallback)((e,t)=>O(S,{revalidate:(s,l)=>{let[a,n]=l,r=(null!=S?S:[]).findIndex(t=>t.some(t=>t.id===e));return t?n>=r:n===r}}),[S,O]),I=()=>(0,l.jsx)("div",{ref:$,children:(0,l.jsx)("button",{onClick:()=>_?O():E(),disabled:w||R,className:(0,u.$)("w-full flex justify-center",z&&"subtle"),children:_?"Try Again":z?(0,l.jsx)(i.A,{size:20}):"Load More"})});return(0,l.jsxs)("div",{className:"space-y-4",children:[y({photos:F,onLastPhotoVisible:E,revalidatePhoto:M}),!L&&(g?(0,l.jsx)(r.A,{contentMain:I()}):I())]})}},71632:(e,t,s)=>{"use strict";s.d(t,{default:()=>m});var l=s(13268),a=s(49534),n=s(55452),r=s(60513),i=s(12065);function c(e){let{cacheKey:t,initialOffset:s,canStart:a,tag:c,camera:o,simulation:d,focal:u,animateOnFirstLoadOnly:m,canSelect:p}=e;return(0,l.jsx)(i.A,{cacheKey:t,initialOffset:s,itemsPerPage:r.RS,tag:c,camera:o,simulation:d,children:e=>{let{photos:t,onLastPhotoVisible:s}=e;return(0,l.jsx)(n.default,{photos:t,canStart:a,tag:c,camera:o,simulation:d,focal:u,onLastPhotoVisible:s,animateOnFirstLoadOnly:m,canSelect:p})}})}var o=s(45041),d=s(77404),u=s(1656);function m(e){let{cacheKey:t,photos:s,count:r,tag:i,camera:m,simulation:p,focal:f,animateOnFirstLoadOnly:h,header:x,sidebar:g,canSelect:v}=e,[j,y]=(0,u.useState)(!1),b=(0,u.useCallback)(()=>y(!0),[]),A=s.length;return(0,l.jsx)(a.A,{contentMain:(0,l.jsxs)("div",{className:(0,o.$)(x&&"space-y-8 mt-1.5"),children:[x&&(0,l.jsx)(d.default,{type:"bottom",items:[x],animateOnFirstLoadOnly:!0}),(0,l.jsxs)("div",{className:"space-y-0.5 sm:space-y-1",children:[(0,l.jsx)(n.default,{photos:s,tag:i,camera:m,simulation:p,focal:f,animateOnFirstLoadOnly:h,onAnimationComplete:b,canSelect:v}),r>A&&(0,l.jsx)(c,{cacheKey:t,initialOffset:A,canStart:j,tag:i,camera:m,simulation:p,focal:f,animateOnFirstLoadOnly:h,canSelect:v})]})]}),contentSide:g,sideHiddenOnMobile:!0})}},83442:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>y});var l=s(13268),a=s(45041),n=s(60513),r=s(71384),i=s(77404),c=s(72672),o=s(1656),d=s(64793),u=s(45725),m=s(89114),p=s(52776),f=s(38685);let h="keyup",x={type:"left",duration:.3},g={type:"right",duration:.3};function v(e){let{photo:t,photos:s=[],className:r,tag:i,camera:c,simulation:v,focal:j}=e,y=(0,u.useRouter)(),{setNextPhotoAnimation:b,shouldRespondToKeyboardCommands:A}=(0,p.A)(),N=t?(0,n.Kl)(t,s):void 0,k=t?(0,n.Yu)(t,s):void 0;return(0,o.useEffect)(()=>{if(A){let e=e=>{switch(e.key.toUpperCase()){case"ARROWLEFT":case"J":N&&(null==b||b(g),y.push((0,m.lb)({photo:N,tag:i,camera:c,simulation:v,focal:j}),{scroll:!1}));break;case"ARROWRIGHT":case"L":k&&(null==b||b(x),y.push((0,m.lb)({photo:k,tag:i,camera:c,simulation:v,focal:j}),{scroll:!1}))}};return window.addEventListener(h,e),()=>window.removeEventListener(h,e)}},[y,A,b,N,k,i,c,v,j]),(0,l.jsx)("div",{className:(0,a.$)("flex items-center",r),children:(0,l.jsxs)("div",{className:"flex items-center gap-2 select-none",children:[(0,l.jsxs)(d.A,{photo:N,className:"select-none h-[1rem]",nextPhotoAnimation:g,tag:i,camera:c,simulation:v,focal:j,scroll:!1,prefetch:!0,children:[(0,l.jsx)(f.irw,{className:"sm:hidden text-[1.1rem] translate-y-[-1px]"}),(0,l.jsx)("span",{className:"hidden sm:inline-block",children:"PREV"})]}),(0,l.jsx)("span",{className:"text-extra-extra-dim",children:"/"}),(0,l.jsxs)(d.A,{photo:k,className:"select-none h-[1rem]",nextPhotoAnimation:x,tag:i,camera:c,simulation:v,focal:j,scroll:!1,prefetch:!0,children:[(0,l.jsx)(f.fOo,{className:"sm:hidden text-[1.1rem] translate-y-[-1px]"}),(0,l.jsx)("span",{className:"hidden sm:inline-block",children:"NEXT"})]})]})})}var j=s(27663);function y(e){let{tag:t,camera:s,simulation:o,focal:u,photos:m,selectedPhoto:f,entity:h,entityVerb:x="PHOTO",entityDescription:g,indexNumber:y,count:b,dateRange:A,includeShareButton:N}=e,{isGridHighDensity:k}=(0,p.A)(),{start:P,end:S}=(0,n.qS)(m,A),w=f?m.findIndex(e=>e.id===f.id):void 0,R=(y||(null!=w?w:1))+" of "+(null!=b?b:m.length),_=void 0===w?"photo-set":h?"photo-detail-with-entity":"photo-detail",O=()=>null!=h?h:void 0!==f&&(0,l.jsx)(d.A,{photo:f,className:"uppercase font-bold text-ellipsis truncate",children:(0,n.sn)(f,!0)});return(0,l.jsx)(i.default,{type:"bottom",distanceOffset:10,animateOnFirstLoadOnly:!0,items:[(0,l.jsxs)(c.A,{className:(0,a.$)("grid gap-0.5 sm:gap-1 items-start","grid-cols-4",k?"lg:grid-cols-6":"md:grid-cols-3 lg:grid-cols-4"),children:[(0,l.jsx)("div",{className:(0,a.$)("inline-flex uppercase","photo-set"===_?k?"col-span-2 sm:col-span-1 lg:col-span-2":"col-span-2 sm:col-span-1":"photo-detail-with-entity"===_?k?"col-span-2 sm:col-span-1 lg:col-span-2":"col-span-2 sm:col-span-1":k?"col-span-3 sm:col-span-3 lg:col-span-5":"col-span-3 md:col-span-2 lg:col-span-3"),children:"photo-detail-with-entity"===_?O():(0,l.jsx)("h1",{children:O()})}),(0,l.jsx)("div",{className:(0,a.$)("inline-flex","gap-2 self-start","uppercase text-dim","photo-set"===_?k?"col-span-2 lg:col-span-3":"col-span-2 md:col-span-1 lg:col-span-2":"photo-detail-with-entity"===_?k?"sm:col-span-2 lg:col-span-3":"sm:col-span-2 md:col-span-1 lg:col-span-2":"hidden"),children:h&&(0,l.jsx)(l.Fragment,{children:"photo-set"===_?(0,l.jsxs)(l.Fragment,{children:[g,N&&(0,l.jsx)(r.A,{photos:m,tag:t,camera:s,simulation:o,focal:u,count:b,dateRange:A,className:"translate-y-[1.5px]",prefetch:!0,dim:!0})]}):(0,l.jsxs)(j.A,{shortText:R,children:[x," ",R]})})}),(0,l.jsx)("div",{className:(0,a.$)("photo-set"===_?"hidden sm:flex":"flex","justify-end"),children:f?(0,l.jsx)(v,{photo:f,photos:m,tag:t,camera:s,simulation:o,focal:u}):(0,l.jsx)("span",{className:"text-dim uppercase text-right",children:P===S?P:(0,l.jsxs)(l.Fragment,{children:[S,(0,l.jsx)("br",{}),"â€“ ",P]})})})]},"PhotosHeader")]})}},64793:(e,t,s)=>{"use strict";s.d(t,{A:()=>d});var l=s(13268),a=s(60513),n=s(88296),r=s.n(n),i=s(52776),c=s(89114),o=s(45041);function d(e){let{photo:t,tag:s,camera:n,simulation:d,focal:u,scroll:m,prefetch:p,nextPhotoAnimation:f,className:h,children:x}=e,{setNextPhotoAnimation:g}=(0,i.A)();return t?(0,l.jsx)(r(),{href:(0,c.lb)({photo:t,tag:s,camera:n,simulation:d,focal:u}),prefetch:p,onClick:()=>{f&&(null==g||g(f))},className:h,scroll:m,children:null!=x?x:(0,a.sn)(t)}):(0,l.jsx)("span",{className:(0,o.$)("text-gray-300 dark:text-gray-700 cursor-default",h),children:null!=x?x:t?(0,a.sn)(t):void 0})}},71384:(e,t,s)=>{"use strict";s.d(t,{A:()=>m});var l=s(13268),a=s(55320),n=s(45041),r=s(22453),i=s(52776),c=s(89114);let o=e=>{let{photo:t,tag:s,camera:l,simulation:a,focal:n}=e;return t?(0,c.xF)(t):s?(0,c.Bn)(s):l?(0,c.u7)(l):a?(0,c.WA)(a):n?(0,c.wX)(n):void 0};var d=s(1656),u=s(45725);function m(e){let{dim:t,prefetch:s,className:c,...m}=e,{setShareModalProps:p}=(0,i.A)(),f=(0,u.useRouter)(),h=o({...m});return(0,d.useEffect)(()=>{s&&h&&(new Image().src=h)},[s,h,f]),(0,l.jsx)(r.A,{onClick:()=>null==p?void 0:p({...m}),className:(0,n.$)(c,t?"text-dim":"text-medium"),icon:(0,l.jsx)(a.Gi,{size:16}),spinnerColor:"dim",styleAs:"link"})}},47445:(e,t,s)=>{"use strict";s.d(t,{Ay:()=>y});var l=s(1656),a=s(97923),n=s(96600),r=s(69979),i=s(73974);let c=()=>{},o=c(),d=Object,u=e=>e===o,m=e=>"function"==typeof e,p=new WeakMap,f=(e,t)=>d.prototype.toString.call(e)===`[object ${t}]`,h=0,x=e=>{let t,s;let l=typeof e,a=f(e,"Date"),n=f(e,"RegExp"),r=f(e,"Object");if(d(e)!==e||a||n)t=a?e.toJSON():"symbol"==l?e.toString():"string"==l?JSON.stringify(e):""+e;else{if(t=p.get(e))return t;if(t=++h+"~",p.set(e,t),Array.isArray(e)){for(s=0,t="@";s<e.length;s++)t+=x(e[s])+",";p.set(e,t)}if(r){t="#";let l=d.keys(e).sort();for(;!u(s=l.pop());)u(e[s])||(t+=s+":"+x(e[s])+",");p.set(e,t)}}return t},g=e=>{if(m(e))try{e=e()}catch(t){e=""}let t=e;return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?x(e):"",t]},v=e=>g(e?e(0,null):null)[0],j=Promise.resolve(),y=(0,r.Ht)(a.Ay,e=>(t,s,a)=>{let c;let o=(0,l.useRef)(!1),{cache:d,initialSize:u=1,revalidateAll:m=!1,persistSize:p=!1,revalidateFirstPage:f=!0,revalidateOnMount:h=!1,parallel:x=!1}=a,[,,,g]=n.b.get(n.c);try{(c=v(t))&&(c=r.q9+c)}catch(e){}let[y,b,A]=(0,n.z)(d,c),N=(0,l.useCallback)(()=>(0,n.e)(y()._l)?u:y()._l,[d,c,u]);(0,i.useSyncExternalStore)((0,l.useCallback)(e=>c?A(c,()=>{e()}):()=>{},[d,c]),N,N);let k=(0,l.useCallback)(()=>{let e=y()._l;return(0,n.e)(e)?u:e},[c,u]),P=(0,l.useRef)(k());(0,n.v)(()=>{if(!o.current){o.current=!0;return}c&&b({_l:p?P.current:k()})},[c,d]);let S=h&&!o.current,w=e(c,async e=>{let l=y()._i,r=y()._r;b({_r:n.U});let i=[],c=k(),[o]=(0,n.z)(d,e),u=o().data,p=[],h=null;for(let e=0;e<c;++e){let[c,o]=(0,n.s)(t(e,x?null:h));if(!c)break;let[v,j]=(0,n.z)(d,c),y=v().data,b=m||l||(0,n.e)(y)||f&&!e&&!(0,n.e)(u)||S||u&&!(0,n.e)(u[e])&&!a.compare(u[e],y);if(s&&("function"==typeof r?r(y,o):b)){let t=async()=>{if(c in g){let e=g[c];delete g[c],y=await e}else y=await s(o);j({data:y,_k:o}),i[e]=y};x?p.push(t):await t()}else i[e]=y;x||(h=y)}return x&&await Promise.all(p.map(e=>e())),b({_i:n.U}),i},a),R=(0,l.useCallback)(function(e,t){let s="boolean"==typeof t?{revalidate:t}:t||{},l=!1!==s.revalidate;return c?(l&&((0,n.e)(e)?b({_i:!0,_r:s.revalidate}):b({_i:!1,_r:s.revalidate})),arguments.length?w.mutate(e,{...s,revalidate:l}):w.mutate()):j},[c,d]),_=(0,l.useCallback)(e=>{let s;if(!c)return j;let[,l]=(0,n.z)(d,c);if((0,n.a)(e)?s=e(k()):"number"==typeof e&&(s=e),"number"!=typeof s)return j;l({_l:s}),P.current=s;let a=[],[r]=(0,n.z)(d,c),i=null;for(let e=0;e<s;++e){let[s]=(0,n.s)(t(e,i)),[l]=(0,n.z)(d,s),c=s?l().data:n.U;if((0,n.e)(c))return R(r().data);a.push(c),i=c}return R(a)},[c,d,R,k]);return{size:k(),setSize:_,mutate:R,get data(){return w.data},get error(){return w.error},get isValidating(){return w.isValidating},get isLoading(){return w.isLoading}}})}}]);